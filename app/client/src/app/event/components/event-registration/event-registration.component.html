<!-- TODO list sessions that users can select -->
<form novalidate [formGroup]="form" (ngSubmit)="register($event, form.value, form.valid)">
    <h4>Event Sessions</h4>
    <h5 *ngIf="(sessions$ | async).length < 1 && !(loading$ | async)">There are no sessions for this event.</h5>
    <ef-session-list-item *ngFor="let session of sessions$ | async"
        [session]="session"
        [control]="form.controls.sessions"
        ></ef-session-list-item>
    <h4>Your Information</h4>
    <div fxLayout="row" fxLayoutAlign="space-between">
        <div fxFlex="45%">
            <ef-input [control]="form.controls.firstName" [submitted]="submitted">
                <md-input-container class="full-width">
                    <input mdInput type="text" formControlName="firstName" placeholder="First Name" />
                </md-input-container>
            </ef-input>
        </div>
        <div fxFlex="45%">
            <ef-input [control]="form.controls.lastName" [submitted]="submitted">
                <md-input-container class="full-width">
                    <input mdInput type="text" formControlName="lastName" placeholder="Last Name" />
                </md-input-container>
            </ef-input>
        </div>
    </div>
    <div fxLayout="row">
        <div fxFlex="100%">
            <ef-input [control]="form.controls.email" [submitted]="submitted">
                <md-input-container class="full-width">
                    <input mdInput type="text" formControlName="email" placeholder="Email Address" />
                </md-input-container>
            </ef-input>
        </div>
    </div>
    <div fxLayout="row" fxLayoutAlign="space-between">
         <div fxFlex="45%">
            <ef-input [control]="form.controls.company" [submitted]="submitted">
                <md-input-container class="full-width">
                    <input mdInput type="text" formControlName="company" placeholder="Company" />
                </md-input-container>
            </ef-input>
        </div>
        <div fxFlex="45%">
            <ef-input [control]="form.controls.phone" [submitted]="submitted">
                <md-input-container class="full-width">
                    <input mdInput type="text" formControlName="phone" placeholder="Phone" />
                </md-input-container>
            </ef-input>
        </div>
    </div>
    <div class="text-right">
        <button md-button type="button" [routerLink]="['/event', form.controls.id.value]">Cancel</button>
        <button md-raised-button
            [disabled]="saving$ | async"
            color="primary"
            type="submit">Register</button>
    </div>
</form>
